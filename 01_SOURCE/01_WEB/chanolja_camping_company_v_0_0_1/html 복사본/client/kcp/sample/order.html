<!DOCTYPE>
<html>
<head>
    <title>*** NHN KCP API SAMPLE ***</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=yes, target-densitydpi=medium-dpi">
    <link href="../static/css/style.css" rel="stylesheet" type="text/css" id="cssLink"/>
    <script type="text/javascript">
        /****************************************************************/
        /* m_Completepayment  설명                                      */
        /****************************************************************/
        /* 인증완료시 재귀 함수                                         */
        /* 해당 함수명은 절대 변경하면 안됩니다.                        */
        /* 해당 함수의 위치는 payplus.js 보다먼저 선언되어여 합니다.    */
        /* Web 방식의 경우 리턴 값이 form 으로 넘어옴                   */
        /****************************************************************/
        function m_Completepayment( FormOrJson, closeEvent )
        {
          alert('a');
            var frm = document.order_info;

            /********************************************************************/
            /* FormOrJson은 가맹점 임의 활용 금지                               */
            /* frm 값에 FormOrJson 값이 설정 됨 frm 값으로 활용 하셔야 됩니다.  */
            /* FormOrJson 값을 활용 하시려면 기술지원팀으로 문의바랍니다.       */
            /********************************************************************/
            GetField( frm, FormOrJson );


            if( frm.res_cd.value == "0000" )
            {
                alert("결제 승인 요청 전,\n\n반드시 결제창에서 고객님이 결제 인증 완료 후\n\n리턴 받은 ordr_chk 와 업체 측 주문정보를\n\n다시 한번 검증 후 결제 승인 요청하시기 바랍니다."); //업체 연동 시 필수 확인 사항.
                /*
                    가맹점 리턴값 처리 영역
                */

                frm.submit();
            }
            else
            {
                alert( "[" + frm.res_cd.value + "] " + frm.res_msg.value );

                closeEvent();
            }
        }
    </script>
    <script type="text/javascript" src="https://testpay.kcp.co.kr/plugin/payplus_web.jsp"></script>
    <script type="text/javascript">
        /* 표준웹 실행 */
        function jsf__pay( form )
        {
            alert('b');
            form.pay_method.value="100000000000"; //신용카드
            try
            {
                KCP_Pay_Execute( form );
            }
            catch (e)
            {
                /* IE 에서 결제 정상종료시 throw로 스크립트 종료 */
            }
        }
    </script>
</head>
<body>
<form name="order_info" method="post" action="../kcp_api_page_or.php">
    <div class="wrap">
        <!-- header -->
        <div class="header">
            <a href="../index.html" class="btn-back"><span>뒤로가기</span></a>
            <h1 class="title">주문/결제 SAMPLE</h1>
        </div>
        <!-- //header -->
        <!-- contents -->
        <div id="skipCont" class="contents">
            <p class="txt-type-1">이 페이지는 결제를 요청하는 샘플 페이지입니다.</p>
            <p class="txt-type-2">소수 수정 시 [※ 필수] 또는 [※ 옵션] 표시가 포함된 문장은 가맹점의 상황에 맞게 적절히 수정 적용하시기 바랍니다.</p>
            <!-- 주문내역 -->
            <h2 class="title-type-3">주문내역</h2>
            <ul class="list-type-1">
                <!-- 주문번호(ordr_idxx) -->
                <li>
                    <div class="left"><p class="title">주문번호</p></div>
                    <div class="right">
                        <div class="ipt-type-1 pc-wd-2">
                            <input type="text" name="ordr_idxx" value="TEST1234567890" maxlength="40" />
                        </div>
                    </div>
                </li>
                <!-- 상품명(good_name) -->
                <li>
                    <div class="left"><p class="title">상품명</p></div>
                    <div class="right">
                        <div class="ipt-type-1 pc-wd-2">
                            <input type="text" name="good_name" value="운동화" />
                        </div>
                    </div>
                </li>
                <!-- 결제금액(good_mny) - ※ 필수 : 값 설정시 ,(콤마)를 제외한 숫자만 입력하여 주십시오. -->
                <li>
                    <div class="left"><p class="title">상품금액</p></div>
                    <div class="right">
                        <div class="ipt-type-1 gap-2 pc-wd-2">
                            <input type="text" name="good_mny" value="1004" maxlength="9" />
                            <span class="txt-price">원</span>
                        </div>
                    </div>
                </li>
            </ul>
            <div class="line-type-1"></div>
            <!-- 주문정보 -->
            <h2 class="title-type-3">주문정보</h2>
            <ul class="list-type-1">
                <!-- 주문자명(buyr_name) -->
                <li>
                    <div class="left"><p class="title">주문자명</p></div>
                    <div class="right">
                        <div class="ipt-type-1 pc-wd-2">
                            <input type="text" name="buyr_name" value="홍길동" />
                        </div>
                    </div>
                </li>
                <!-- 주문자 연락처1(buyr_tel1) -->
                <li>
                    <div class="left"><p class="title">전화번호</p></div>
                    <div class="right">
                        <div class="ipt-type-1 pc-wd-2">
                            <input type="text" name="buyr_tel1" value="02-0000-0000" />
                        </div>
                    </div>
                </li>
                <!-- 휴대폰번호(buyr_tel2) -->
                <li>
                    <div class="left"><p class="title">휴대폰번호</p></div>
                    <div class="right">
                        <div class="ipt-type-1 pc-wd-2">
                            <input type="text" name="buyr_tel2" value="010-0000-0000" />
                        </div>
                    </div>
                </li>
                <!-- 주문자 E-mail(buyr_mail) -->
                <li>
                    <div class="left"><p class="title">이메일</p></div>
                    <div class="right">
                        <div class="ipt-type-1 pc-wd-2">
                            <input type="text" name="buyr_mail" value="test@test.co.kr" />
                        </div>
                    </div>
                </li>
            </ul>
            <div class="line-type-1"></div>
            <!--
            결제 수단 정보 설정

            결제에 필요한 결제 수단 정보를 설정합니다.

            신용카드 : 100000000000, 계좌이체 : 010000000000, 가상계좌 : 001000000000
            포인트   : 000100000000, 휴대폰   : 000010000000, 상품권   : 000000001000 , 신용카드/계좌이체/가상계좌 : 111000000000
            -->
            <h2 class="title-type-3">결제수단</h2>
            <ul class="list-check-1">
                <li>
                    <input type="radio" id="radio-2-1" class="ipt-radio-1" name="pay_method" value="100000000000" checked />
                    <label for="radio-2-1"><span class="ico-radio"><span></span></span>신용카드</label>
                </li>
            </ul>
            <div Class="Line-Type-1"></div>
            <ul class="list-btn-2">
                <li><a href="#none" onclick="jsf__pay(document.order_info);" class="btn-type-2 pc-wd-3">결제요청</a></li>
                <li class="pc-only-show"><a href="../index.html" class="btn-type-3 pc-wd-2">처음으로</a></li>
            </ul>
        </div>
        <!-- //contents -->

        <div class="grid-footer">
            <div class="inner">
                <!-- footer -->
                <div class="footer">
                     ⓒ NHN KCP Corp.
                </div>
                <!-- //footer -->
            </div>
        </div>

    <!-- 가맹점 정보 설정-->
    <input type="hidden" name="site_cd"         value="T0000" />
    <input type="hidden" name="site_name"       value="TEST SITE" />
    <!--
    ※필수 항목
    표준웹에서 값을 설정하는 부분으로 반드시 포함되어야 합니다값을 설정하지 마십시오
    -->
    <input type="hidden" name="res_cd"          value=""/>
    <input type="hidden" name="res_msg"         value=""/>
    <input type="hidden" name="enc_info"        value=""/>
    <input type="hidden" name="enc_data"        value=""/>
    <input type="hidden" name="ret_pay_method"  value=""/>
    <input type="hidden" name="tran_cd"         value=""/>
    <input type="hidden" name="use_pay_method"  value=""/>
    </div>
</form>
</body>
</html>
